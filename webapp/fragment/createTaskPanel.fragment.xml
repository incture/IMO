<core:FragmentDefinition xmlns="sap.m" xmlns:u="sap.ui.unified" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout"
	xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<Dialog showHeader="false" contentWidth="100%" class="iopwbDetailDialogClass" busy="{dashBoardModel>/busyIndicators/taskPanelBusy}"
		busyIndicatorDelay="0" beforeOpen="onTaskPanelBeforeOpen" afterOpen="onTaskPanelAfterOpen" cd:collabTaskType="Dispatch"
		verticalScrolling="false">
		<HBox height="{dashBoardModel>/screenSize/taskDetailPanelHeight}">
			<VBox width="75%">
				<core:Fragment fragmentName="com.sap.incture.Incture_IOP.fragment.taskDetailPanel" type="XML" id="idTaskDetailPanel"></core:Fragment>
			</VBox>
			<VBox width="25%" class="iopwbSplitBorderClass">
				<HBox justifyContent="End" height="0rem">
					<Button icon="sap-icon://sys-cancel" class="iopwbCloseBtnClass" type="Transparent" press="onCreateTaskPanelClose"/>
				</HBox>
				<core:Fragment fragmentName="com.sap.incture.Incture_IOP.fragment.taskDetailRightPanel" type="XML" id="idTaskDetailRightPanel"></core:Fragment>
			</VBox>
		</HBox>
		<buttons>
			<Button text="Create Task" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass" press="onCreatingTask"
			visible='{parts:["dashBoardModel>/isCreateTask","oTaskPanelDetailModel>/taskEventDto/parentOrigin", "dashBoardModel>/isWebReadOnlyRole","dashBoardModel>/moduleReadOnly", "dashBoardModel>/panelProperties/currentSelectKey"],formatter:"com.sap.incture.Incture_IOP.util.formatter.handleCreateTaskButton"}'/>
		
			<Button text="Create Task" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass" press="onCreatingTaskPR"
				visible='{parts:["oTaskPanelDetailModel>/taskEventDto/status","dashBoardModel>/showCreatePRTask","oTaskPanelDetailModel>/customAttr","oTaskPanelDetailModel>/taskEventDto/parentOrigin", "dashBoardModel>/isWebReadOnlyRole", "dashBoardModel>/moduleReadOnly", "dashBoardModel>/panelProperties/currentSelectKey"],formatter:"com.sap.incture.Incture_IOP.util.formatter.handleCreateTaskPRButton"}'/>
		
			<Button text="Follow-up Needed" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass" press="onFollowUpNeeded"
				visible='{parts:["oTaskPanelDetailModel>/taskEventDto/status", "dashBoardModel>/isWebReadOnlyRole","dashBoardModel>/moduleReadOnly", "dashBoardModel>/panelProperties/currentSelectKey"],formatter:"com.sap.incture.Incture_IOP.util.formatter.handleFollowUpButton"}'/>
				
			<Button id="idCloseTaskBtn" press="onPressCloseTask" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass"
				enabled="{= ${oTaskPanelDetailModel>/taskEventDto/status} === 'COMPLETED'?false:true}"
				visible='{parts:["dashBoardModel>/isCreateTask","oTaskPanelDetailModel>/taskEventDto/parentOrigin","dashBoardModel>/userData/isROC","oTaskPanelDetailModel>/taskEventDto/status", "dashBoardModel>/isWebReadOnlyRole", "dashBoardModel>/moduleReadOnly", "dashBoardModel>/panelProperties/currentSelectKey"],formatter:"com.sap.incture.Incture_IOP.util.formatter.handleDispCloseButton"}'
				text="{parts:[{path:'dashBoardModel>/isDesignateCreateTask'}], formatter:'com.sap.incture.Incture_IOP.util.formatter.getCloseTaskText'}"/>
			
			<Button text="Close Task" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass" press="onPressClosePigTask"
				enabled="{= ${oTaskPanelDetailModel>/taskEventDto/status} === 'COMPLETED'?false:true}"
				visible='{parts:["oTaskPanelDetailModel>/taskEventDto/status","oTaskPanelDetailModel>/taskEventDto/createdByDisplay","oTaskPanelDetailModel>/customAttr","oTaskPanelDetailModel>/taskEventDto/parentOrigin","dashBoardModel>/userData/isROC", "dashBoardModel>/isWebReadOnlyRole", "dashBoardModel>/moduleReadOnly", "dashBoardModel>/panelProperties/currentSelectKey"],formatter:"com.sap.incture.Incture_IOP.util.formatter.handleClosePigTaskButton"}'/>
			
			<Button text="Update Task" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass" press="onPressUpdateTask"
				visible='{parts:["dashBoardModel>/isReturnedTask","oTaskPanelDetailModel>/taskEventDto/status","oTaskPanelDetailModel>/taskEventDto/parentOrigin","oTaskPanelDetailModel>/taskEventDto/createdByDisplay","dashBoardModel>/userData/isROC", "dashBoardModel>/isWebReadOnlyRole", "dashBoardModel>/moduleReadOnly", "dashBoardModel>/panelProperties/currentSelectKey"],formatter:"com.sap.incture.Incture_IOP.util.formatter.handleUpdateTaskButton"}'/>
			
			<Button text="Issue Pig Launch" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass" press="onPressIssuePigLaunch"
				enabled="{dashBoardModel>/taskPanelButtonsEnablement/dispatchIssuePLEnabled}"
				visible='{parts:["oTaskPanelDetailModel>/taskEventDto/status","oTaskPanelDetailModel>/taskEventDto/createdByDisplay","oTaskPanelDetailModel>/customAttr","oTaskPanelDetailModel>/taskEventDto/parentOrigin","dashBoardModel>/userData/isROC", "dashBoardModel>/isWebReadOnlyRole", "dashBoardModel>/moduleReadOnly", "dashBoardModel>/panelProperties/currentSelectKey"],formatter:"com.sap.incture.Incture_IOP.util.formatter.handlePLButton"}'/>
			
			<Button text="Issue Pig Retrieval" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass" press="onPressIssuePigRetrievalAuthorizationCheck"
				enabled="{dashBoardModel>/taskPanelButtonsEnablement/dispatchIssuePREnabled}"
				visible='{parts:["oTaskPanelDetailModel>/taskEventDto/status","oTaskPanelDetailModel>/taskEventDto/createdByDisplay","oTaskPanelDetailModel>/customAttr","oTaskPanelDetailModel>/taskEventDto/parentOrigin","dashBoardModel>/userData/isROC", "dashBoardModel>/isWebReadOnlyRole", "dashBoardModel>/moduleReadOnly", "dashBoardModel>/panelProperties/currentSelectKey"],formatter:"com.sap.incture.Incture_IOP.util.formatter.handlePRButton"}'/>
			
			<Button text="Cancel" press="onCreateTaskPanelClose" class="sapUiSizeCompact iopBtnClass iopwbFooterBtnClass"/>
		</buttons>
	</Dialog>
</core:FragmentDefinition>